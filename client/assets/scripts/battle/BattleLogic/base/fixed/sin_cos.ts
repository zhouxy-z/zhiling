import { Mathf } from "../../../../utils/Mathf";

const quarterSinTable = [0, 0.0021816598343367697, 0.004363309284746571, 0.006544937967351859, 0.008726535498373935, 0.010908091494182374, 0.013089595571344441, 0.015271037346674515, 0.01745240643728351, 0.0196336924606283, 0.02181488503456112, 0.023995973777378995, 0.026176948307873153, 0.028357798245378422, 0.03053851320982266, 0.03271908282177614, 0.03489949670250097, 0.03707974447400048, 0.03925981575906861, 0.04143970018133933, 0.043619387365336, 0.04579886693652077, 0.04797812852134394, 0.050157161747293386, 0.052335956242943835, 0.05451450163800632, 0.05669278756337751, 0.05887080365118903, 0.06104853953485687, 0.06322598484913067, 0.06540312923014306, 0.06757996231545906, 0.0697564737441253, 0.0719326531567194, 0.07410849019539924, 0.0762839745039523, 0.07845909572784494, 0.08063384351427165, 0.08280820751220434, 0.08498217737244165, 0.08715574274765817, 0.08932889329245366, 0.09150161866340238, 0.09367390851910223, 0.09584575252022398, 0.0980171403295606, 0.10018806161207629, 0.10235850603495578, 0.10452846326765347, 0.10669792298194264, 0.10886687485196457, 0.11103530855427769, 0.11320321376790672, 0.1153705801743918, 0.11753739745783764, 0.11970365530496252, 0.12186934340514748, 0.12403445145048533, 0.12619896913582976, 0.12836288615884436, 0.13052619222005157, 0.13268887702288198, 0.134850930273723, 0.13701234168196802, 0.13917310096006544, 0.14133319782356749, 0.14349262199117932, 0.1456513631848078, 0.14780941112961063, 0.14996675555404498, 0.1521233861899167, 0.15427929277242886, 0.15643446504023087, 0.15858889273546717, 0.1607425656038261, 0.16289547339458874, 0.16504760586067765, 0.16719895275870567, 0.16934950384902459, 0.17149924889577414, 0.17364817766693033, 0.1757962799343545, 0.17794354547384175, 0.1800899640651698, 0.18223552549214747, 0.1843802195426634, 0.18652403600873463, 0.18866696468655522, 0.1908089953765448, 0.19295011788339703, 0.19509032201612825, 0.19722959758812594, 0.1993679344171972, 0.20150532232561713, 0.2036417511401775, 0.2057772106922349, 0.20791169081775934, 0.2100451813573825, 0.21217767215644626, 0.21430915306505074, 0.21643961393810288, 0.21856904463536458, 0.2206974350215011, 0.2228247749661291, 0.224951054343865, 0.22707626303437323, 0.22920039092241415, 0.23132342789789254, 0.2334453638559054, 0.23556618869679025, 0.2376858923261731, 0.23980446465501654, 0.24192189559966773, 0.24403817508190645, 0.24615329302899305, 0.24826723937371628, 0.25038000405444144, 0.25249157701515795, 0.2546019482055276, 0.256711107580932, 0.25881904510252074, 0.2609257507372589, 0.2630312144579748, 0.265135426243408, 0.26723837607825685, 0.269340053953226, 0.27144044986507426, 0.27353955381666206, 0.27563735581699916, 0.2777338458812922, 0.27982901403099203, 0.28192285029384145, 0.28401534470392265, 0.28610648730170424, 0.28819626813408933, 0.29028467725446233, 0.29237170472273677, 0.2944573406054019, 0.29654157497557093, 0.2986243979130275, 0.3007057995042731, 0.3027857698425746, 0.30486429902801077, 0.3069413771675202, 0.3090169943749474, 0.31109114077109096, 0.31316380648374953, 0.31523498164776964, 0.31730465640509214, 0.31937282090479924, 0.3214394653031616, 0.3235045797636848, 0.3255681544571567, 0.3276301795616935, 0.3296906452627873, 0.3317495417533521, 0.3338068592337709, 0.33586258791194235, 0.33791671800332695, 0.33996923973099424, 0.3420201433256687, 0.3440694190257768, 0.34611705707749296, 0.34816304773478646, 0.35020738125946743, 0.3522500479212335, 0.35429103799771583, 0.3563303417745256, 0.35836794954530027, 0.3604038516117495, 0.36243803828370164, 0.36447049987914965, 0.3665012267242973, 0.368530209153605, 0.3705574375098362, 0.37258290214410295, 0.374606593415912, 0.37662850169321077, 0.37864861735243294, 0.38066693077854463, 0.3826834323650898, 0.3846981125142361, 0.3867109616368206, 0.38872197015239557, 0.39073112848927377, 0.39273842708457407, 0.39474385638426723, 0.39674740684322113, 0.3987490689252462, 0.40074883310314097, 0.40274668985873724, 0.4047426296829455, 0.4067366430758002, 0.40872872054650483, 0.41071885261347724, 0.4127070298043947, 0.414693242656239, 0.4166774817153415, 0.4186597375374281, 0.4206400006876641, 0.42261826174069944, 0.4245945112807131, 0.4265687399014583, 0.4285409382063071, 0.43051109680829514, 0.4324792063301662, 0.4344452574044171, 0.4364092406733421, 0.4383711467890774, 0.4403309664136459, 0.4422886902190013, 0.44424430888707267, 0.44619781310980877, 0.44814919358922256, 0.45009844103743496, 0.4520455461767197, 0.45399049973954675, 0.45593329246862724, 0.45787391511695674, 0.4598123584478599, 0.4617486132350339, 0.4636826702625929, 0.4656145203251114, 0.4675441542276683, 0.4694715627858908, 0.47139673682599764, 0.4733196671848434, 0.47524034470996157, 0.47715876025960846, 0.4790749047028064, 0.48098876891938763, 0.48290034380003727, 0.48480962024633706, 0.4867165891708081, 0.4886212414969549, 0.490523568159308, 0.49242356010346716, 0.4943212082861446, 0.4962165036752082, 0.4981094372497241, 0.49999999999999994, 0.5018881829276277, 0.5037739770455263, 0.5056573733779846, 0.5075383629607041, 0.5094169368408418, 0.5112930860770522, 0.5131668017395302, 0.5150380749100542, 0.5169068966820275, 0.5187732581605214, 0.5206371504623173, 0.5224985647159488, 0.5243574920617445, 0.5262139236518696, 0.528067850650368, 0.5299192642332049, 0.5317681555883085, 0.5336145159156115, 0.5354583364270938, 0.5372996083468239, 0.5391383229110002, 0.5409744713679939, 0.5428080449783895, 0.5446390350150271, 0.5464674327630434, 0.5482932295199138, 0.5501164165954933, 0.5519369853120581, 0.553754927004347, 0.5555702330196022, 0.557382894717611, 0.5591929034707469, 0.5610002506640098, 0.5628049276950685, 0.5646069259743004, 0.5664062369248328, 0.5682028519825839, 0.569996762596303, 0.5717879602276122, 0.573576436351046, 0.5753621824540927, 0.5771451900372336, 0.5789254506139857, 0.5807029557109398, 0.5824776968678022, 0.5842496656374344, 0.5860188535858938, 0.5877852522924731, 0.589548853349741, 0.5913096483635824, 0.5930676289532371, 0.5948227867513413, 0.5965751134039663, 0.5983246005706591, 0.600071239924481, 0.6018150231520483, 0.6035559419535714, 0.6052939880428944, 0.6070291531475343, 0.6087614290087207, 0.6104908073814348, 0.6122172800344492, 0.6139408387503664, 0.6156614753256583, 0.6173791815707049, 0.619093949309834, 0.6208057703813592, 0.6225146366376195, 0.6242205399450177, 0.6259234721840591, 0.6276234252493902, 0.6293203910498374, 0.6310143615084456, 0.632705328562516, 0.6343932841636455, 0.636078220277764, 0.6377601288851732, 0.6394390019805848, 0.6411148315731583, 0.6427876096865393, 0.6444573283588974, 0.6461239796429639, 0.6477875556060698, 0.6494480483301837, 0.6511054499119491, 0.6527597524627224, 0.6544109481086103, 0.6560590289905073, 0.6577039872641327, 0.6593458151000688, 0.6609845046837975, 0.6626200482157375, 0.6642524379112817, 0.6658816660008342, 0.6675077247298474, 0.6691306063588582, 0.6707503031635258, 0.672366807434668, 0.6739801114782978, 0.6755902076156602, 0.6771970881832687, 0.6788007455329417, 0.6804011720318391, 0.6819983600624985, 0.6835923020228712, 0.6851829903263591, 0.68677041740185, 0.6883545756937539, 0.6899354576620396, 0.6915130557822694, 0.6930873625456359, 0.6946583704589973, 0.6962260720449132, 0.6977904598416802, 0.6993515264033671, 0.7009092642998509, 0.7024636661168517, 0.7040147244559684, 0.7055624319347131, 0.7071067811865475, 0.7086477648609169, 0.7101853756232854, 0.7117196061551714, 0.7132504491541816, 0.7147778973340464, 0.7163019434246541, 0.7178225801720863, 0.7193398003386512, 0.7208535967029188, 0.7223639620597555, 0.7238708892203581, 0.7253743710122876, 0.7268744002795041, 0.7283709698824002, 0.7298640726978356, 0.7313537016191705, 0.7328398495562994, 0.7343225094356856, 0.7358016742003936, 0.7372773368101241, 0.7387494902412463, 0.740218127486832, 0.7416832415566892, 0.7431448254773942, 0.7446028722923262, 0.7460573750616994, 0.7475083268625967, 0.7489557207890021, 0.7503995499518339, 0.7518398074789774, 0.7532764865153176, 0.754709580222772, 0.7561390817803227, 0.7575649843840496, 0.7589872812471619, 0.7604059656000309, 0.7618210306902226, 0.7632324697825289, 0.7646402761590003, 0.766044443118978, 0.7674449639791252, 0.7688418320734596, 0.7702350407533841, 0.77162458338772, 0.7730104533627369, 0.7743926440821856, 0.7757711489673284, 0.7771459614569709, 0.7785170750074935, 0.7798844830928817, 0.7812481792047585, 0.7826081568524139, 0.7839644095628366, 0.785316930880745, 0.786665714368617, 0.788010753606722, 0.78935204219315, 0.7906895737438433, 0.7920233418926261, 0.7933533402912352, 0.7946795626093497, 0.796002002534622, 0.7973206537727071, 0.7986355100472928, 0.7999465651001297, 0.8012538126910607, 0.8025572465980508, 0.8038568606172173, 0.8051526485628583, 0.8064446042674825, 0.8077327215818395, 0.8090169943749475, 0.8102974165341235, 0.8115739819650123, 0.8128466845916152, 0.8141155183563192, 0.8153804772199256, 0.8166415551616789, 0.8178987461792955, 0.8191520442889918, 0.8204014435255136, 0.8216469379421636, 0.8228885216108304, 0.8241261886220157, 0.8253599330848638, 0.8265897491271886, 0.8278156308955021, 0.8290375725550417, 0.8302555682897986, 0.8314696123025452, 0.8326796988148626, 0.8338858220671682, 0.8350879763187431, 0.8362861558477594, 0.8374803549513078, 0.838670567945424, 0.8398567891651163, 0.8410390129643924, 0.8422172337162867, 0.8433914458128856, 0.8445616436653568, 0.8457278217039732, 0.8468899743781411, 0.8480480961564261, 0.8492021815265789, 0.8503522249955628, 0.8514982210895788, 0.8526401643540922, 0.8537780493538578, 0.8549118706729466, 0.8560416229147714, 0.8571673007021123, 0.8582888986771422, 0.8594064115014527, 0.860519833856079, 0.8616291604415257, 0.8627343859777918, 0.8638355052043957, 0.8649325128804005, 0.8660254037844386, 0.8671141727147372, 0.8681988144891423, 0.8692793239451436, 0.8703556959398997, 0.8714279253502614, 0.8724960070727971, 0.8735599360238168, 0.8746197071393957, 0.8756753153753997, 0.8767267557075078, 0.8777740231312368, 0.8788171126619654, 0.8798560193349574, 0.8808907382053855, 0.881921264348355, 0.8829475928589269, 0.8839697188521416, 0.8849876374630418, 0.8860013438466962, 0.8870108331782217, 0.8880161006528072, 0.8890171414857364, 0.8900139509124096, 0.8910065241883678, 0.8919948565893142, 0.8929789434111369, 0.8939587799699321, 0.8949343616020251, 0.8959056836639933, 0.8968727415326884, 0.8978355306052577, 0.898794046299167, 0.8997482840522215, 0.9006982393225879, 0.9016439075888161, 0.9025852843498605, 0.903522365125102, 0.904455145454368, 0.9053836208979552, 0.9063077870366499, 0.9072276394717491, 0.9081431738250813, 0.9090543857390279, 0.9099612708765432, 0.9108638249211758, 0.9117620435770886, 0.9126559225690792, 0.9135454576426009, 0.9144306445637821, 0.9153114791194471, 0.916187957117136, 0.917060074385124, 0.9179278267724427, 0.9187912101488982, 0.9196502204050923, 0.9205048534524404, 0.9213551052231924, 0.9222009716704518, 0.9230424487681941, 0.9238795325112867, 0.9247122189155081, 0.9255405040175664, 0.9263643838751181, 0.9271838545667874, 0.9279989121921844, 0.9288095528719242, 0.9296157727476444, 0.9304175679820246, 0.9312149347588036, 0.9320078692827984, 0.9327963677799223, 0.9335804264972017, 0.9343600417027955, 0.9351352096860117, 0.9359059267573256, 0.9366721892483976, 0.9374339935120898, 0.9381913359224842, 0.9389442128748994, 0.9396926207859083, 0.9404365560933549, 0.9411760152563706, 0.9419109947553923, 0.9426414910921784, 0.9433675007898252, 0.9440890203927842, 0.944806046466878, 0.9455185755993167, 0.9462266043987146, 0.9469301294951056, 0.9476291475399599, 0.9483236552061993, 0.9490136491882138, 0.949699126201877, 0.9503800829845611, 0.9510565162951535, 0.9517284229140717, 0.9523957996432784, 0.953058643306297, 0.9537169507482269, 0.9543707188357582, 0.9550199444571866, 0.9556646245224285, 0.9563047559630354, 0.9569403357322089, 0.9575713608048144, 0.9581978281773966, 0.958819734868193, 0.9594370779171484, 0.9600498543859287, 0.9606580613579353, 0.9612616959383189, 0.9618607552539928, 0.9624552364536473, 0.9630451367077627, 0.963630453208623, 0.9642111831703293, 0.964787323828813, 0.9653588724418488, 0.9659258262890683, 0.966488182671972, 0.9670459389139431, 0.9675990923602598, 0.9681476403781077, 0.9686915803565931, 0.9692309097067544, 0.9697656258615752, 0.9702957262759965, 0.9708212084269281, 0.9713420698132614, 0.9718583079558811, 0.9723699203976766, 0.9728769047035543, 0.9733792584604485, 0.9738769792773336, 0.9743700647852352, 0.9748585126372411, 0.9753423205085127, 0.9758214860962962, 0.9762960071199334, 0.9767658813208725, 0.9772311064626789, 0.977691680331046, 0.9781476007338056, 0.9785988655009383, 0.9790454724845838, 0.9794874195590514, 0.9799247046208296, 0.9803573255885968, 0.9807852804032304, 0.9812085670278176, 0.981627183447664, 0.9820411276703039, 0.9824503977255098, 0.9828549916653012, 0.9832549075639546, 0.983650143518012, 0.9840406976462909, 0.9844265680898917, 0.984807753012208, 0.9851842505989351, 0.9855560590580777, 0.9859231766199597, 0.9862856015372314, 0.986643332084879, 0.9869963665602319, 0.9873447032829712, 0.9876883405951378, 0.9880272768611397, 0.9883615104677607, 0.9886910398241674, 0.9890158633619168, 0.9893359795349642, 0.9896513868196702, 0.9899620837148079, 0.9902680687415704, 0.9905693404435773, 0.9908658973868822, 0.9911577381599795, 0.9914448613738104, 0.9917272656617703, 0.992004949679715, 0.992277912105967, 0.992546151641322, 0.992809667009055, 0.9930684569549263, 0.9933225202471875, 0.9935718556765875, 0.9938164620563781, 0.9940563382223196, 0.9942914830326867, 0.9945218953682733, 0.9947475741323987, 0.9949685182509117, 0.9951847266721969, 0.9953961983671789, 0.9956029323293272, 0.9958049275746618, 0.9960021831417567, 0.9961946980917455, 0.9963824715083254, 0.9965655024977614, 0.996743790188891, 0.996917333733128, 0.9970861323044666, 0.9972501850994857, 0.9974094913373519, 0.9975640502598242, 0.9977138611312569, 0.9978589232386035, 0.9979992358914197, 0.9981347984218669, 0.9982656101847159, 0.9983916705573488, 0.9985129789397631, 0.9986295347545738, 0.9987413374470168, 0.9988483864849507, 0.9989506813588601, 0.9990482215818578, 0.9991410066896868, 0.9992290362407229, 0.9993123098159769, 0.9993908270190958, 0.9994645874763657, 0.9995335908367129, 0.9995978367717061, 0.9996573249755573, 0.9997120551651237, 0.9997620270799091, 0.9998072404820648, 0.9998476951563913, 0.9998833909103383, 0.999914327574007, 0.9999405050001497, 0.9999619230641713, 0.9999785816641292, 0.9999904807207345, 0.9999976201773518, 1];
  
function customTrig(angleInDegrees, steps) {
  let normalizedAngle = angleInDegrees % 360;
  if (normalizedAngle < 0) {
    normalizedAngle += 360;
  }

  const index = Math.round(Mathf.parseNumber((normalizedAngle % 90) / 90 * steps));

  if (normalizedAngle < 90) {
    return quarterSinTable[index];
  } else if (normalizedAngle < 180) {
    return quarterSinTable[steps - index];
  } else if (normalizedAngle < 270) {
    return -quarterSinTable[index];
  } else {
    return -quarterSinTable[steps - index];
  }
}

export function customSin(angleInDegrees) {
  return customTrig(angleInDegrees, 720);
}

export function customCos(angleInDegrees) {
  return customTrig(angleInDegrees + 90, 720);
}
